(this.webpackJsonpnpm=this.webpackJsonpnpm||[]).push([[0],[,,,,,,,,,,,,,function(e,o,s){},function(e,o,s){},function(e,o,s){},,function(e,o,s){},function(e,o,s){},function(e,o,s){},function(e,o,s){},function(e,o,s){},function(e,o,s){},function(e,o,s){},function(e,o,s){},function(e,o,s){"use strict";s.r(o);var i=s(1),t=s.n(i),n=s(4),a=s.n(n),m=(s(13),s(14),s(15),s(0)),r=function(){return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("img",{src:"data:image/png;base64,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",className:"logo",alt:"logo"}),Object(m.jsx)("div",{className:"title",children:"Chess Studies"})]})},l=s(5),c=s(6),u=s(2),v=s(8),g=s(7),p=(s(17),s(18),function(e){return Object(m.jsx)("div",{className:"board-zone",children:Object(m.jsx)("div",{className:"board",children:e.game.data.map((function(o,s){return Object(m.jsx)(t.a.Fragment,{children:Object(m.jsx)("div",{"data-pos":s,className:"square "+o.squareColor,dangerouslySetInnerHTML:{__html:e.game.figCodes[o.fig]?e.game.figCodes[o.fig]:"&nbsp;"}},s)},s)}))})})}),d=(s(19),s(20),function(e){return Object(m.jsx)("div",{className:"game-turns",children:Object(m.jsx)("ol",{children:e.turnsList.map((function(o,s){return Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{onClick:e.movePGN,"data-turn":s+1,"data-side":"w",className:"turn-w ".concat(e.currentMove.number===s+1&&"w"===e.currentMove.side?"turn-current":""),children:o.w}),Object(m.jsx)("span",{onClick:e.movePGN,"data-turn":s+1,"data-side":"b",className:"turn-b ".concat(e.currentMove.number===s+1&&"b"===e.currentMove.side?"turn-current":""),children:o.b})]},s)}))})})}),h=(s(21),function(e){return Object(m.jsxs)("div",{className:"game-resume",children:[e.resume.Date," ",e.resume.White," vs ",e.resume.Black," ",e.resume.Result]})}),b=(s(22),function(e){return Object(m.jsxs)("div",{className:"moves-board",children:[Object(m.jsx)("span",{"data-move":"first",onClick:e.movePGN,children:Object(m.jsx)("img",{src:"data:image/gif;base64,R0lGODlhMQAnAMwAAAAAALKAP3+vxWaaxZnFxQAAPwAAZsW2kr+mecW8n18rAGw7E0YTAIxULDM1M5KTkplkLF8rP39CE2aarMW2pZnFv6W2xXKdxb+mpbKKWYxUU0YTZr+vn2w7ZsXFxQAAACH5BAEAAB4ALAAAAAAxACcAAAX/oCeOZGmeaKqubOu+cCzPdG1njnO1mEvBAQBgwEJsCKxDRPAKDlcIhgGpOigKTJeTmIoCplUFANsUck/eL/VkFZK1ZlRajWq7s60tmiEUgk12d2VPJXN+ayOBgnCEI4aHJYqLeXGOfH19fyKSkyx6Io+Za5ydK5+hoptimJhvlE+oqaR9rp5msaKztHi2ABMSrMFfFRDCrLWmZgkLxqkNzaUqesvQf8/NyNKV1Maa18LZKZ8e3MGaHt/HvMmN5MzmiOjg69rt7vAm6dHilSTlkPnUDTrj7x3AgLsGoih3rsS3cCjGmeDW0OG+iP1OUKtoEeIJiRoXcHTo0QRIjR3iF6HQQC8FhwcPLNiYSbOmzZs4c+rcGSMEADs=",className:"command-img",alt:"first"})}),Object(m.jsx)("span",{"data-move":"prev",onClick:e.movePGN,children:Object(m.jsx)("img",{src:"data:image/gif;base64,R0lGODlhIAAnALsAAAAAAH+vxQAAP7mXZqyDTCwAABkAAIavxYyvxbmXf6yDbBkAPywAP8XFxQAAAAAAACH5BAEAAA0ALAAAAAAgACcAAARzsMlJq7046827/2AoZsoxasQSnBhhCCtbuQAsU3Qd37l+Nz2fLCg8EYuiIxKkXHqaTg40ijIArtgsNTMoaL+2UPebDYu95O1mTDaL2Fr3G13eneBX+Qiv39P7fnl2N2OAdwWGdwyDPw0JCI2RkpOUlZYWEQA7",className:"command-img",alt:"prev"})}),Object(m.jsx)("span",{"data-move":"pause",className:"hidden",onClick:e.movePGN,children:"\u23f8"}),Object(m.jsx)("span",{"data-move":"next",onClick:e.movePGN,children:Object(m.jsx)("img",{src:"data:image/gif;base64,R0lGODlhJQAnALsAAAAAAMWvfz8AAGaXuUaArAAALAAAE3+XuT8AE8WvjGaArD8ALMWvhsXFxQAAAAAAACH5BAEAAA0ALAAAAAAlACcAAAR2sMlJq7046827/2AojhijkF+AEGgXCAbbai8Qz1lty3il7z2fAEAEBiU/4u2YVPJwTWcwKoUOi1hji1pcorjdpwhMLAy212zRPAOz2+nsG64GzOny8zRu1++xdz0/gYJXhIV9R0KHUwt+ihMJB5CUlZaXmJkkEQA7",className:"command-img",alt:"next"})}),Object(m.jsx)("span",{"data-move":"last",onClick:e.movePGN,children:Object(m.jsx)("img",{src:"data:image/gif;base64,R0lGODlhLwAnAMwAAAAAAGaaxcWvf8WaZrKAPz8AAJ+8xRM7bDlun5K2xQAAEwArXyxUjDM1M5KTkqW2xaWAP3KdxT99rL+vnyxkmVNUjD8rX7KKWcWpn8XFxQAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABkALAAAAAAvACcAAAX/YCaOZGmeaKqubOu+cCzPdK1ihvu0V9NErcEhtxJYEiwCABAIAobFwgKpUjKdTyJKUABMq8sma7DMprjLL8oqXpHL0BM6TTWxsXAtaU4/3cdleSZ8fSV/boGCe12JaiOHKm+JZiOEZY4ZkCmSk3EZlpd1miicnUSgoSKjJ6Wmn4yTfasmraaogVOzJbWJChK3gRQQYXixAAoIr8ZlDJnEgMvIIsAAzc5X0LHS07CT1tdtkcbb3Mbf4MVl5OXehs+IvckloOeq7+KB65Xd1X73m/nkDepW79E/UuoEDmSWQheJN/rmMSpIwuEIMhEl9gODzU1GiRTddYyk8EyFFhZtEqiY4MDBDpUwY8qcSbOmzZohAAA7",className:"command-img",alt:"last"})})]})}),f=(s(23),function(e){return Object(m.jsx)("div",{className:"game-list",children:Object(m.jsx)("ol",{children:e.games.map((function(o,s){return Object(m.jsxs)("li",{children:[o.pgnResume.Event," ",o.pgnResume.Site," ",o.pgnResume.Date," ",Object(m.jsx)("br",{}),o.pgnResume.White," (",o.pgnResume.WhiteElo,") ","vs"," ",o.pgnResume.Black," (",o.pgnResume.BlackElo,")  ","=>"," ",o.pgnResume.Result,Object(m.jsx)("span",{className:"button delete","data-index":s,onClick:e.deleteGame,children:"Delete"}),Object(m.jsx)("span",{className:"button","data-index":s,onClick:e.loadGame,children:"Load"})]},s)}))})})}),A=(s(24),function(e){return Object(m.jsxs)("div",{className:"game-menu",children:[Object(m.jsx)("div",{"data-target":"showMoves",className:"".concat(e.movesLoaded?"":"hidden"),onClick:e.menuMove,children:"Game's moves"}),Object(m.jsx)("div",{"data-target":"showList",onClick:e.menuMove,children:"Games list"}),Object(m.jsx)("div",{"data-target":"showInput",onClick:e.menuMove,children:"New game"})]})}),w=function(e){var o=e.game.status,s=e.game.pgnHistory,i=e.statuses;return o===i.showInput?Object(m.jsxs)(t.a.Fragment,{children:[Object(m.jsx)(A,{menuMove:e.menuMove,movesLoaded:e.game.pgnHistory&&e.game.pgnHistory>1}),Object(m.jsxs)("div",{className:"info-zone",children:[Object(m.jsx)("h3",{className:"board-title",children:e.game.infosTitle}),Object(m.jsx)("textarea",{id:"game-input",className:"game-input",name:"pgn",defaultValue:s}),Object(m.jsx)("button",{onClick:e.savePGN,children:"Go"})]})]}):o===i.showList?Object(m.jsxs)(t.a.Fragment,{children:[Object(m.jsx)(A,{menuMove:e.menuMove,movesLoaded:!!(e.game.pgnHistory&&e.game.pgnHistory.length>1)}),Object(m.jsxs)("div",{className:"list-zone",children:[Object(m.jsx)("h3",{className:"board-list-title",children:e.game.infosTitle}),Object(m.jsx)(f,{games:e.game.games,deleteGame:e.deleteGame,loadGame:e.loadGame})]})]}):o===i.showMessage||o===i.inError||o===i.init?Object(m.jsxs)("div",{className:"info-zone",children:[Object(m.jsx)("h3",{className:"board-title",children:e.game.infosTitle}),Object(m.jsx)("p",{className:"infosMessage",children:e.game.infosMessage})]}):o===i.showMoves?Object(m.jsxs)(t.a.Fragment,{children:[Object(m.jsx)(A,{menuMove:e.menuMove,movesLoaded:e.game.pgnHistory&&e.game.pgnHistory>1}),Object(m.jsxs)("div",{className:"turns-zone",children:[Object(m.jsx)(h,{resume:e.game.pgnResume}),Object(m.jsx)(d,{turnsList:e.game.pgnGame,currentMove:e.game.move,movePGN:e.movePGN}),Object(m.jsx)(b,{movePGN:e.movePGN})]})]}):Object(m.jsxs)("div",{className:"info-zone",children:[Object(m.jsx)("h3",{className:"board-title",children:"404"}),Object(m.jsx)("p",{className:"infosMessage",children:"Sorry Buddy, I'm afraid we are lost !"})]})},j=function(e){return e!==e.toUpperCase()},P=function(e,o){for(var s=1;s<9;s++)if(s!==e.moveRow){var i={column:e.moveColumn,row:s};0!==e.comingFromRow&&i.row!==e.comingFromRow||""!==e.comingFromColumn&&i.column!==e.comingFromColumn||e.possiblePositions.push(i)}for(var t=0;t<8;t++)if(o[t]!==e.moveColumn){var n={column:o[t],row:e.moveRow};0!==e.comingFromRow&&n.row!==e.comingFromRow||""!==e.comingFromColumn&&n.column!==e.comingFromColumn||e.possiblePositions.push(n)}},R=function(e,o){"castle-king"===e.moveType?(e.possiblePositions.push({column:"e",row:"w"===e.moveSide?1:8}),e.additionalMove.possiblePositions.push({column:"h",row:"w"===e.moveSide?1:8}),e.moveType="move",e.additionalMove.moveType="move"):"castle-queen"===e.moveType?(e.possiblePositions.push({column:"e",row:"w"===e.moveSide?1:8}),e.additionalMove.possiblePositions.push({column:"a",row:"w"===e.moveSide?1:8}),e.moveType="move",e.additionalMove.moveType="move"):e.uniqueFigure=!0},G=function(e,o){if(4===e.moveRow&&"w"===e.moveSide&&"move"===e.moveType)e.possiblePositions.push({column:e.moveColumn,row:3}),e.possiblePositions.push({column:e.moveColumn,row:2});else if(5===e.moveRow&&"b"===e.moveSide&&"move"===e.moveType)e.possiblePositions.push({column:e.moveColumn,row:7}),e.possiblePositions.push({column:e.moveColumn,row:6});else if("move"===e.moveType)e.possiblePositions.push({column:e.moveColumn,row:"w"===e.moveSide?e.moveRow-1:e.moveRow+1});else if("take"===e.moveType)if(""!==e.comingFromColumn)e.possiblePositions.push({column:e.comingFromColumn,row:"w"===e.moveSide?e.moveRow-1:e.moveRow+1});else{var s=o.indexOf(e.moveColumn);0===s?e.possiblePositions.push({column:o[1],row:"w"===e.moveSide?e.moveRow-1:e.moveRow+1}):7===s?e.possiblePositions.push({column:o[6],row:"w"===e.moveSide?e.moveRow-1:e.moveRow+1}):(e.possiblePositions.push({column:o[s-1],row:"w"===e.moveSide?e.moveRow-1:e.moveRow+1}),e.possiblePositions.push({column:o[s+1],row:"w"===e.moveSide?e.moveRow-1:e.moveRow+1}))}else e.isError=!0},O=function(e,o){for(var s=e.moveRow,i=o.indexOf(e.moveColumn)+1,t=i+1,n=s+1,a=0;a<9;a++){if(t<9&&n<9){var m={column:o[t-1],row:n};0!==e.comingFromRow&&m.row!==e.comingFromRow||""!==e.comingFromColumn&&m.column!==e.comingFromColumn||e.possiblePositions.push(m)}t++,n++}t=i-1,n=s+1;for(var r=0;r<9;r++){if(t>0&&n<9){var l={column:o[t-1],row:n};0!==e.comingFromRow&&l.row!==e.comingFromRow||""!==e.comingFromColumn&&l.column!==e.comingFromColumn||e.possiblePositions.push(l)}t--,n++}t=i+1,n=s-1;for(var c=0;c<9;c++){if(t<9&&n>0){var u={column:o[t-1],row:n};0!==e.comingFromRow&&u.row!==e.comingFromRow||""!==e.comingFromColumn&&u.column!==e.comingFromColumn||e.possiblePositions.push(u)}t++,n--}t=i-1,n=s-1;for(var v=8;v>0;v--){if(t>0&&t>0){var g={column:o[t-1],row:n};0!==e.comingFromRow&&g.row!==e.comingFromRow||""!==e.comingFromColumn&&g.column!==e.comingFromColumn||e.possiblePositions.push(g)}t--,n--}},S=function(e,o){var s=e.moveRow,i=o.indexOf(e.moveColumn)+1;if(s-2>0&&i-1>0){var t={column:o[i-1-1],row:s-2};0!==e.comingFromRow&&t.row!==e.comingFromRow||""!==e.comingFromColumn&&t.column!==e.comingFromColumn||e.possiblePositions.push(t)}if(s-2>0&&i+1<9){var n={column:o[i+1-1],row:s-2};0!==e.comingFromRow&&n.row!==e.comingFromRow||""!==e.comingFromColumn&&n.column!==e.comingFromColumn||e.possiblePositions.push(n)}if(s+2<9&&i-1>0){var a={column:o[i-1-1],row:s+2};0!==e.comingFromRow&&a.row!==e.comingFromRow||""!==e.comingFromColumn&&a.column!==e.comingFromColumn||e.possiblePositions.push(a)}if(s+2<9&&i+1<9){var m={column:o[i+1-1],row:s+2};0!==e.comingFromRow&&m.row!==e.comingFromRow||""!==e.comingFromColumn&&m.column!==e.comingFromColumn||e.possiblePositions.push(m)}if(s-1>0&&i-2>0){var r={column:o[i-2-1],row:s-1};0!==e.comingFromRow&&r.row!==e.comingFromRow||""!==e.comingFromColumn&&r.column!==e.comingFromColumn||e.possiblePositions.push(r)}if(s-1>0&&i+2<9){var l={column:o[i+2-1],row:s-1};0!==e.comingFromRow&&l.row!==e.comingFromRow||""!==e.comingFromColumn&&l.column!==e.comingFromColumn||e.possiblePositions.push(l)}if(s+1<9&&i-2>0){var c={column:o[i-2-1],row:s+1};0!==e.comingFromRow&&c.row!==e.comingFromRow||""!==e.comingFromColumn&&c.column!==e.comingFromColumn||e.possiblePositions.push(c)}if(s+1<9&&i+2<9){var u={column:o[i+2-1],row:s+1};0!==e.comingFromRow&&u.row!==e.comingFromRow||""!==e.comingFromColumn&&u.column!==e.comingFromColumn||e.possiblePositions.push(u)}},T=function(e){return 0===e.number?0:2*(e.number-1)+("w"===e.side?1:2)},N=function(e,o,s){var i="",t="",n=0,a="";return[1,2,3,4,5,6,7,8].forEach((function(o){i+=t,t="/",n=0,s.forEach((function(s,t){null===(a=e[8*(o-1)+t].fig)?n++:(n>0&&(i+=n+"",n=0),"B"===a.charAt(1)?i+=a.charAt(0).toLowerCase():i+=a.charAt(0).toUpperCase())})),n>0&&(i+=n+"",n=0)})),i+=" "+o.moveSide+" - - 0 "+o.number},y=function(e){Object(v.a)(s,e);var o=Object(g.a)(s);function s(){var e;return Object(l.a)(this,s),(e=o.call(this)).deleteGame=function(o){var s=o.currentTarget.getAttribute("data-index");e.state.games&&e.state.games.length>0&&s<e.state.games.length&&e.doDeleteGame(s)},e.loadGame=function(o){var s=o.currentTarget.getAttribute("data-index");e.state.games&&e.state.games.length>0&&s<e.state.games.length&&e.doLoadGame(s)},e.doDeleteGame=function(o){var s=JSON.parse(JSON.stringify(e.state.games));s.splice(o,1);var i={games:s};localStorage.setItem("games",JSON.stringify(s));var t=s&&s.length>0?e.gameStatus.showList:e.gameStatus.showInput;e.setGameStatus(t,"",i)},e.doLoadGame=function(o){var s=e.state.games[o],i={data:JSON.parse(e.state.initialData),pgnResume:s.pgnResume,pgnHistory:s.pgnHistory,pgnGame:s.pgnGame,fenGame:s.fenGame,move:{number:0,side:"w"}};e.setGameStatus(e.gameStatus.showMoves,"",i)},e.moveGameTo=function(o){var s=10;"pace"in o&&"quick"===o.pace&&(s=1);var i=e.state.move,t=e.state.pgnGame,n=e.state.data,a=e.state.columns.slice(0),m=function(e,o,s,i){var t=T(s),n=T(o),a={moveSide:"",moveColumn:"",moveRow:0,movePieceType:null,moveType:null,isCheck:!1,isMat:!1,isError:!1,isDone:!0,possiblePositions:[],additionalMove:null,comingFromRow:0,comingFromColumn:"",uniqueFigure:!1,promoteTo:null,number:0};if(t>n){a.isDone=!1;var m={};(0===n?n=1:n+1)%2===1?(m.number=Math.trunc(n/2)+1,m.side="w"):(m.number=(n+1)/2,m.side="b");var r=e[m.number-1][m.side];if(a.moveSide=m.side,a.number=m.number,r=r.replace(/\?|!/,""),a.moveType="move",-1!==r.indexOf("x")&&(r=r.replace("x",""),a.moveType="take"),"+"===r.charAt(r.length-1)&&"+"===r.charAt(r.length-2)?(a.isMat=!0,r=r.substring(0,r.length-2)):"+"===r.charAt(r.length-1)&&(a.isCheck=!0,r=r.substring(0,r.length-1)),2===r.length)a.movePieceType="p",a.moveColumn=r.charAt(0),a.moveRow=parseInt(r.charAt(1)),isNaN(a.moveRow)&&(a.isError=!0);else if(3===r.length)"0-0"===r||"O-O"===r?(a.movePieceType="K",a.moveColumn="g",a.moveRow="w"===a.moveSide?1:8,a.moveType="castle-king",a.possiblePositions=[],a.additionalMove={moveSide:a.moveSide,moveColumn:"f",moveRow:a.moveRow,movePieceType:"R",moveType:a.moveType,isCheck:!1,isError:!1,possiblePositions:[]}):(j(r.charAt(0))?(a.movePieceType="p",a.comingFromColumn=r.charAt(0),a.moveColumn=r.charAt(1),a.moveRow=parseInt(r.charAt(2))):(a.movePieceType=r.charAt(0),a.moveColumn=r.charAt(1),a.moveRow=parseInt(r.charAt(2))),isNaN(a.moveRow)&&(a.isError=!0));else if(4===r.length)if("="===r.charAt(2))a.promoteTo=r.charAt(3),a.movePieceType="p",a.moveColumn=r.charAt(0),a.moveRow=parseInt(r.charAt(1));else{a.movePieceType=r.charAt(0);var l=r.charAt(1);isNaN(parseInt(l))?a.comingFromColumn=l:a.comingFromRow=parseInt(l),a.moveColumn=r.charAt(2),a.moveRow=parseInt(r.charAt(3)),isNaN(a.moveRow)&&(a.isError=!0)}else"0-0-0"===r||"O-O-O"===r?(a.movePieceType="K",a.moveColumn="c",a.moveRow="w"===a.moveSide?1:8,a.moveType="castle-queen",a.possiblePositions=[],a.additionalMove={moveSide:a.moveSide,moveColumn:"d",moveRow:a.moveRow,movePieceType:"R",moveType:a.moveType,isCheck:!1,isError:!1,possiblePositions:[]}):a.isError=!0;a.isError||(a.possiblePositions=[],"p"===a.movePieceType?G(a,i):"N"===a.movePieceType?S(a,i):"B"===a.movePieceType?O(a,i):"R"===a.movePieceType?P(a,i):"K"===a.movePieceType?R(a,i):"Q"===a.movePieceType&&(a.uniqueFigure=!0))}return a}(t,i,o,a);if(!m.isError&&!m.isDone){var r=!1;if(m.possiblePositions&&m.possiblePositions.length>0){for(var l=0;l<m.possiblePositions.length&&!r;l++)for(var c=0;c<n.length;c++)if(n[c].column===m.possiblePositions[l].column&&n[c].row===m.possiblePositions[l].row&&n[c].fig===m.movePieceType+m.moveSide.toUpperCase()){r=!0,n[c].fig=null;break}if(null!==m.additionalMove){for(var v=r,g=!1,p=0;p<n.length;p++)n[p].column===m.additionalMove.possiblePositions[0].column&&n[p].row===m.additionalMove.possiblePositions[0].row&&n[p].fig===m.additionalMove.movePieceType+m.additionalMove.moveSide.toUpperCase()&&(g=!0,n[p].fig=null);r=v&&g}}if(!0===m.uniqueFigure)for(var d=0;d<n.length;d++)if(n[d].fig===m.movePieceType+m.moveSide.toUpperCase()){r=!0,n[d].fig=null;break}if(r){for(var h=0;h<n.length;h++)if(n[h].column===m.moveColumn&&n[h].row===m.moveRow){if("take"===m.moveType){if(null===n[h].fig&&"p"===m.movePieceType){var b="w"===m.moveSide?8:-8;n[h+b].fig=null}n[h].fig=m.movePieceType+m.moveSide.toUpperCase()}else n[h].fig=m.promoteTo?m.promoteTo+m.moveSide.toUpperCase():m.movePieceType+m.moveSide.toUpperCase();break}if(null!=m.additionalMove)for(var f=0;f<n.length;f++)if(n[f].column===m.additionalMove.moveColumn&&n[f].row===m.additionalMove.moveRow){n[f].fig=m.additionalMove.movePieceType+m.additionalMove.moveSide.toUpperCase();break}var A=e.state.fenGame;if(0===A.filter((function(e){return e.number===m.number&&e.side===m.moveSide})).length){var w=e.state.data,y=e.state.columns.slice(0),x=N(w,m,y);x&&A.push({number:m.number,side:m.moveSide,fen:x})}e.setState((function(o,s){return{data:n,move:{number:m.number,side:m.moveSide},fenGame:A,status:e.gameStatus.showMoves}}));var C=Object(u.a)(e);setTimeout((function(){C.moveGameTo(o)}),s)}}},e.menuMove=function(o){var s=o.currentTarget.getAttribute("data-target");s in e.gameStatus&&e.setGameStatus(e.gameStatus[s])},e.movePGN=function(o){var s=function(e,o,s){var i=0,t="w",n=null,a=s[s.length-1];if("move"in e){var m=e.move;"first"===m?n={number:0,side:"w"}:"last"===m?(n="b"in a?{number:s.length,side:"b"}:{number:s.length,side:"w"}).pace="quick":"pause"===m?(n=o).pace="stop":"prev"===m?(o.number<=1&&"w"===o.side?n={number:0,side:"w"}:(n="b"===o.side?{number:o.number,side:"w"}:{number:o.number-1,side:"b"}).number<1&&(n={number:1,side:"w"}),n.pace="quick"):"next"===m&&(n=o.number===s.length?"b"===o.side?o:"b"in a?{number:s.length,side:"b"}:o:"b"===o.side?{number:o.number+1,side:"w"}:{number:o.number,side:"b"}).number<1&&(n={number:1,side:"w"})}else"turn"in e&&"side"in e&&(i=parseInt(e.turn),isNaN(i)&&(i=0),t=e.side);return i>0&&(n={number:i,side:t}),n}("move"in o?o:o.currentTarget.dataset,e.state.move,e.state.pgnGame),i=e.state.fenGame.filter((function(e){return e.number===s.number&&e.side===s.side}));if(0!==i.length){e.state.columns.slice(0);var t=JSON.parse(e.state.initialData);t=function(e,o,s){if(!e)return null;var i=e.split(" ")[0].split("/");if(8!==i.length)return null;var t=-1;return i.forEach((function(e,s){t=8*s;for(var i=e.length,n=0;n<i;n++){var a=e.charAt(n),m=parseInt(a);if(isNaN(m)){var r="W",l=a;j(a)?(r="B",l="p"===a?"p":a.toUpperCase()):l="P"===a?"p":a,o[t].fig=l+r,t++}else{for(var c=0;c<m;c++)o[t+c].fig=null;t+=m}}})),o}(i[0].fen,t),e.setState((function(e,o){return{data:t,move:{number:s.number,side:s.side}}}))}},e.savePGN=function(){e.setGameStatus(e.gameStatus.showMessage,"Aanalyzing and saving your game");var o=document.getElementById("game-input");if(null!=o){var s=o.value;if(""!==s){var i=/\n\n/.exec(s).index,t=s.substring(0,i).replace(/\r\n?|\n/g,",").trim(),n=s.substring(i,s.length).replace(/\r\n?|\n/g," ").trim(),a=function(e){e=e.split(",");var o={};return e.forEach((function(e){var s=e.replace(/\\|\[|\]|"/g,""),i=s.indexOf(" ");if(-1!==i){var t=s.substring(0,i),n=s.substring(i+1,s.length);o[t]=n}})),o}(t);a.Site||(a.Site="???");var m=function(e){for(var o,s=[],i=1,t=e.indexOf(i+"."),n=0;-1!==t&&-1!==n;){o=-1!==(n=e.indexOf(i+1+"."))?n:t+100;var a=e.substring(t,o).replace(i+".","").trim().split(" "),m={w:a[0]};2===a.length&&(m.b=a[1]),s.push(m),t=n,i++}return s}(n),r=[{number:0,side:"w",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"}],l=JSON.parse(e.state.initialData),c=e.state.columns.slice(0);m.forEach((function(e,o){["w","b"].forEach((function(s){if(s in e){var i=function(e,o,s,i,t){var n={moveSide:o,moveColumn:"",moveRow:0,movePieceType:null,moveType:null,isCheck:!1,isMat:!1,isError:!1,isDone:!0,possiblePositions:[],additionalMove:null,comingFromRow:0,comingFromColumn:"",uniqueFigure:!1,promoteTo:null,number:s};n.isDone=!1;var a="w"===o?e.w:e.b;if(a=a.replace(/\?|!/,""),n.moveType="move",-1!==a.indexOf("x")&&(a=a.replace("x",""),n.moveType="take"),"+"===a.charAt(a.length-1)&&"+"===a.charAt(a.length-2)?(n.isMat=!0,a=a.substring(0,a.length-2)):"+"===a.charAt(a.length-1)&&(n.isCheck=!0,a=a.substring(0,a.length-1)),2===a.length)n.movePieceType="p",n.moveColumn=a.charAt(0),n.moveRow=parseInt(a.charAt(1)),isNaN(n.moveRow)&&(n.isError=!0);else if(3===a.length)"0-0"===a||"O-O"===a?(n.movePieceType="K",n.moveColumn="g",n.moveRow="w"===n.moveSide?1:8,n.moveType="castle-king",n.possiblePositions=[],n.additionalMove={moveSide:n.moveSide,moveColumn:"f",moveRow:n.moveRow,movePieceType:"R",moveType:n.moveType,isCheck:!1,isError:!1,possiblePositions:[]}):(j(a.charAt(0))?(n.movePieceType="p",n.comingFromColumn=a.charAt(0),n.moveColumn=a.charAt(1),n.moveRow=parseInt(a.charAt(2))):(n.movePieceType=a.charAt(0),n.moveColumn=a.charAt(1),n.moveRow=parseInt(a.charAt(2))),isNaN(n.moveRow)&&(n.isError=!0));else if(4===a.length)if("="===a.charAt(2))n.promoteTo=a.charAt(3),n.movePieceType="p",n.moveColumn=a.charAt(0),n.moveRow=parseInt(a.charAt(1));else{n.movePieceType=a.charAt(0);var m=a.charAt(1);isNaN(parseInt(m))?n.comingFromColumn=m:n.comingFromRow=parseInt(m),n.moveColumn=a.charAt(2),n.moveRow=parseInt(a.charAt(3)),isNaN(n.moveRow)&&(n.isError=!0)}else"0-0-0"===a||"O-O-O"===a?(n.movePieceType="K",n.moveColumn="c",n.moveRow="w"===n.moveSide?1:8,n.moveType="castle-queen",n.possiblePositions=[],n.additionalMove={moveSide:n.moveSide,moveColumn:"d",moveRow:n.moveRow,movePieceType:"R",moveType:n.moveType,isCheck:!1,isError:!1,possiblePositions:[]}):n.isError=!0;return n.isError||(n.possiblePositions=[],"p"===n.movePieceType?G(n,t):"N"===n.movePieceType?S(n,t):"B"===n.movePieceType?O(n,t):"R"===n.movePieceType?P(n,t):"K"===n.movePieceType?R(n,t):"Q"===n.movePieceType&&(n.uniqueFigure=!0)),n}(e,s,o+1,0,c);l=function(e,o){if(!e.isError&&!e.isDone){var s=!1;if(e.possiblePositions&&e.possiblePositions.length>0){for(var i=0;i<e.possiblePositions.length&&!s;i++)for(var t=0;t<o.length;t++)if(o[t].column===e.possiblePositions[i].column&&o[t].row===e.possiblePositions[i].row&&o[t].fig===e.movePieceType+e.moveSide.toUpperCase()){s=!0,o[t].fig=null;break}if(null!==e.additionalMove){for(var n=s,a=!1,m=0;m<o.length;m++)o[m].column===e.additionalMove.possiblePositions[0].column&&o[m].row===e.additionalMove.possiblePositions[0].row&&o[m].fig===e.additionalMove.movePieceType+e.additionalMove.moveSide.toUpperCase()&&(a=!0,o[m].fig=null);s=n&&a}}if(!0===e.uniqueFigure)for(var r=0;r<o.length;r++)if(o[r].fig===e.movePieceType+e.moveSide.toUpperCase()){s=!0,o[r].fig=null;break}if(s){for(var l=0;l<o.length;l++)if(o[l].column===e.moveColumn&&o[l].row===e.moveRow){"take"===e.moveType?(null===o[l].fig&&"p"===e.movePieceType&&(o[l+("w"===e.moveSide?8:-8)].fig=null),o[l].fig=e.movePieceType+e.moveSide.toUpperCase()):o[l].fig=e.promoteTo?e.promoteTo+e.moveSide.toUpperCase():e.movePieceType+e.moveSide.toUpperCase();break}if(null!=e.additionalMove)for(var c=0;c<o.length;c++)if(o[c].column===e.additionalMove.moveColumn&&o[c].row===e.additionalMove.moveRow){o[c].fig=e.additionalMove.movePieceType+e.additionalMove.moveSide.toUpperCase();break}}}return o}(i,l);var t=N(l,i,c);t&&r.push({number:i.number,side:i.moveSide,fen:t})}}))}));var u={pgnHistory:s,pgnResume:a,pgnGame:m,fenGame:r};e.saveGameToStorage(u),e.state.games.push(u);var v={data:JSON.parse(e.state.initialData),pgnResume:a,pgnHistory:s,pgnGame:m,fenGame:r,move:{number:0,side:"w"}};e.setGameStatus(e.gameStatus.showList,"",v)}else e.setGameStatus(e.gameStatus.inError,"unable to read this png")}},e.saveGameToStorage=function(o){e.setGameStatus(e.gameStatus.showMessage,"Saving analyzed game");var s=[];null!==localStorage.getItem("games")?0===(s=JSON.parse(localStorage.getItem("games"))).filter((function(e){return e.pgnGame===o.pgnGame})).length?s.push(o):s.forEach((function(e){e.pgnGame===o.pgnGame&&(e.pgnHistory=o.pgnHistory,e.pgnResume=o.pgnResume,e.fenGame=o.fenGame)})):s.push(o);localStorage.setItem("games",JSON.stringify(s))},e.setGameStatus=function(o,s,i){var t="";switch(o){case e.gameStatus.showInput:t={title:"Please enter a game in PGN format",message:""};break;case e.gameStatus.init:t={title:"New game saved",message:"analysing PGN game..."};break;case e.gameStatus.showMoves:t={title:"Game's moves",message:""};break;case e.gameStatus.showList:t={title:"Choose from list",message:""};break;case e.gameStatus.showMessage:t={title:"Current status",message:s};break;case e.gameStatus.inError:t={title:"Error !",message:s};break;default:t={title:"Error !",message:"the program is in error..."}}var n={status:o,infosTitle:t.title,infosMessage:t.message};if(i)for(var a in i)n[a]=i[a];e.setState((function(e,o){return n}))},e.initGames=function(){e.setState((function(o,s){return{status:e.gameStatus.init}}));var o=[];null!==localStorage.getItem("games")&&(o=JSON.parse(localStorage.getItem("games")));var s=e.gameStatus.showInput;o.length>0&&(s=e.gameStatus.showList);for(var i,t=e.state.pgnHistory,n=[],a=[],m=e.state.blackColor,r=e.state.whiteColor,l=e.state.black,c=e.state.white,u=r,v=0,g=0,p=0,d=7;d>=0;d--){v=e.state.rows[d];for(var h=0;h<8;h++)g=e.state.columns[h],++p%8===1?i=u:u=i=u===m?r:m,n.push({row:v,column:g,squareColor:i,fig:null})}e.state.figures.forEach((function(o,s){a.push({row:e.state.rows[0],column:e.state.columns[s],fig:o+c}),a.push({row:e.state.rows[1],column:e.state.columns[s],fig:e.state.pawn+c}),a.push({row:e.state.rows[6],column:e.state.columns[s],fig:e.state.pawn+l}),a.push({row:e.state.rows[7],column:e.state.columns[s],fig:o+l})})),n.forEach((function(e){var o=a.filter((function(o){return o.row===e.row&&o.column===e.column}));1===o.length&&(e.fig=o[0].fig)}));var b={games:o,status:s,data:n,initialData:JSON.stringify(n),positions:a,move:{number:0,side:"w"},pgnHistory:t};e.setGameStatus(s,"",b)},e.gameStatus={init:0,showList:1,showInput:2,showMoves:3,showMessage:4,inError:-1},e.state={games:[],gameKey:0,proposeSave:!1,status:e.gameStatus.init,readerStop:!1,initialData:null,gameIsReady:!1,infosTitle:"",infosMessage:"",msg:"White to play",data:[],pgnHistory:"",move:{number:0,side:"b"},pgnResume:[],pgnGame:[],fenGame:[{number:0,side:"w",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"}],positions:[],columns:"a,b,c,d,e,f,g,h".split(","),rows:[1,2,3,4,5,6,7,8],figures:"R,N,B,Q,K,B,N,R".split(","),pawn:"p",black:"B",white:"W",blackColor:"dark-square",whiteColor:"light-square",nrSquaresPerside:8,figCodes:{KB:"&#9818;",QB:"&#9819;",RB:"&#9820;",BB:"&#9821;",NB:"&#9822;",pB:"&#9823;",KW:"&#9812;",QW:"&#9813;",RW:"&#9814;",BW:"&#9815;",NW:"&#9816;",pW:"&#9817;"}},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.initGames()}},{key:"render",value:function(){return this.state.status===this.gameStatus.showInput?Object(m.jsxs)("div",{className:"game",children:[Object(m.jsx)("div",{className:"game-board",children:Object(m.jsx)(p,{game:this.state},1)}),Object(m.jsx)("div",{className:"game-info",children:Object(m.jsx)(w,{game:this.state,movePGN:this.movePGN,menuMove:this.menuMove,savePGN:this.savePGN,statuses:this.gameStatus},1)})]}):this.state.status===this.gameStatus.showList?Object(m.jsxs)("div",{className:"game",children:[Object(m.jsx)("div",{className:"game-board",children:Object(m.jsx)(p,{game:this.state},1)}),Object(m.jsx)("div",{className:"game-info",children:Object(m.jsx)(w,{game:this.state,loadGame:this.loadGame,deleteGame:this.deleteGame,menuMove:this.menuMove,statuses:this.gameStatus},1)})]}):this.state.status===this.gameStatus.showMoves?Object(m.jsxs)("div",{className:"game",children:[Object(m.jsx)("div",{className:"game-board",children:Object(m.jsx)(p,{game:this.state},1)}),Object(m.jsx)("div",{className:"game-info",children:Object(m.jsx)(w,{game:this.state,movePGN:this.movePGN,menuMove:this.menuMove,savePGN:this.savePGN,statuses:this.gameStatus},1)})]}):this.state.status===this.gameStatus.showMessage?Object(m.jsx)("div",{className:"game",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:[" ",this.state.infosTitle," "]}),Object(m.jsxs)("p",{children:[" ",this.state.infosMessage," "]})]})}):Object(m.jsx)("div",{className:"game",children:Object(m.jsx)("h1",{children:" Loading "})})}}]),s}(t.a.Component);var x=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(r,{}),Object(m.jsx)(y,{})]})};a.a.render(Object(m.jsx)(x,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.4ac6eae6.chunk.js.map